{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, vModelRadio as _vModelRadio, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-8b352240\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"head\", null, [/*#__PURE__*/_createElementVNode(\"meta\", {\n  charset: \"utf-8\"\n}), /*#__PURE__*/_createElementVNode(\"title\", null, \"信息登记表\")], -1 /* HOISTED */));\nconst _hoisted_2 = {\n  class: \"bg\"\n};\nconst _hoisted_3 = {\n  method: \"post\",\n  autocomplete: \"off\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  align: \"center\",\n  class: \"title\"\n}, [/*#__PURE__*/_createElementVNode(\"h2\", null, \"信息登记表\")], -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"wenben\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_7 = {\n  align: \"center\",\n  class: \"font\"\n};\nconst _hoisted_8 = {\n  align: \"center\",\n  class: \"font\"\n};\nconst _hoisted_9 = {\n  align: \"center\",\n  class: \"font\"\n};\nconst _hoisted_10 = {\n  align: \"center\",\n  class: \"font\"\n};\nconst _hoisted_11 = {\n  align: \"center\",\n  class: \"font\"\n};\nconst _hoisted_12 = {\n  align: \"center\",\n  class: \"font\"\n};\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  align: \"center\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"but\"\n}, \"提交预约信息\")], -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"html\", null, [_hoisted_1, _createElementVNode(\"body\", null, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"form\", _hoisted_3, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"form\", {\n    class: \"inner\",\n    onSubmit: _cache[9] || (_cache[9] = _withModifiers((...args) => $options.submitForm && $options.submitForm(...args), [\"prevent\"]))\n  }, [_hoisted_6, _createElementVNode(\"p\", _hoisted_7, [_createTextVNode(\"真实姓名: \"), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.formData.name = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.formData.name]])]), _createElementVNode(\"p\", _hoisted_8, [_createTextVNode(\"你的年龄: \"), _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.formData.age = $event),\n    min: \"0\",\n    max: \"120\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.formData.age]])]), _createElementVNode(\"p\", _hoisted_9, [_createTextVNode(\"你的性别:       \"), _createElementVNode(\"label\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    value: \"男\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.formData.sex = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $data.formData.sex]]), _createTextVNode(\" 男 \")]), _createTextVNode(\"             \"), _createElementVNode(\"label\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    value: \"女\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.formData.sex = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $data.formData.sex]]), _createTextVNode(\" 女 \")])]), _createElementVNode(\"p\", _hoisted_10, [_createTextVNode(\"是否已婚:       \"), _createElementVNode(\"label\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    value: \"已婚\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.formData.marriage = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $data.formData.marriage]]), _createTextVNode(\" 已婚 \")]), _createTextVNode(\"           \"), _createElementVNode(\"label\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    value: \"未婚\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.formData.marriage = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $data.formData.marriage]]), _createTextVNode(\" 未婚 \")])]), _createElementVNode(\"p\", _hoisted_11, [_createTextVNode(\"身份证号: \"), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.formData.id = $event),\n    onBlur: _cache[7] || (_cache[7] = (...args) => $options.validateIdNumber && $options.validateIdNumber(...args)),\n    required: \"\"\n  }, null, 544 /* HYDRATE_EVENTS, NEED_PATCH */), [[_vModelText, $data.formData.id]])]), _createElementVNode(\"p\", _hoisted_12, [_createTextVNode(\"手机号码: \"), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.formData.phone = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.formData.phone]])]), _hoisted_13], 32 /* HYDRATE_EVENTS */)])])])])]);\n}","map":{"version":3,"mappings":"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","names":["_createElementVNode","charset","class","method","autocomplete","align","type","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","onSubmit","$options","_hoisted_6","_hoisted_7","$data","name","required","_hoisted_8","age","min","max","_hoisted_9","value","sex","_hoisted_10","marriage","_hoisted_11","id","onBlur","_hoisted_12","phone","_hoisted_13"],"sourceRoot":"","sources":["D:\\github_local\\Physical-Examination-System\\test\\src\\pages\\WriteInfor\\MyIndex.vue"],"sourcesContent":["\r\n<template>\r\n<html>\r\n <head>\r\n  <meta charset=\"utf-8\">\r\n  <title>信息登记表</title>\r\n </head>\r\n <body>\r\n  <div class=\"bg\">\r\n   <form method=\"post\" autocomplete=\"off\">\r\n    <p align=\"center\" class=\"title\"><h2>信息登记表</h2></p>\r\n    <div class=\"wenben\">\r\n      <form class=\"inner\" @submit.prevent=\"submitForm\"><br />\r\n        <p align=\"center\" class=\"font\">真实姓名: <input type=\"text\" v-model=\"formData.name\" required></p>\r\n        <p align=\"center\" class=\"font\">你的年龄: <input type=\"number\" v-model=\"formData.age\" min=\"0\" max=\"120\" required></p>\r\n        <p align=\"center\" class=\"font\">你的性别: &emsp;  &emsp;  &emsp;  \r\n          <label>\r\n          <input type=\"radio\" value=\"男\" v-model=\"formData.sex\">\r\n          男\r\n        </label>\r\n        &emsp;  &emsp;  &emsp;  &emsp;  &emsp;  &emsp;  \r\n        <label>\r\n          <input type=\"radio\" value=\"女\" v-model=\"formData.sex\">\r\n          女\r\n        </label>\r\n        </p>\r\n        <p align=\"center\" class=\"font\">是否已婚: &emsp;  &emsp;  &ensp;  \r\n          <label>\r\n          <input type=\"radio\" value=\"已婚\" v-model=\"formData.marriage\">\r\n          已婚\r\n        </label>\r\n        &emsp;  &emsp;  &emsp;  &emsp;  &emsp;  \r\n        <label>\r\n          <input type=\"radio\" value=\"未婚\" v-model=\"formData.marriage\">\r\n          未婚\r\n        </label>\r\n        </p>\r\n        <p align=\"center\" class=\"font\">身份证号: <input type=\"text\" v-model=\"formData.id\" @blur=\"validateIdNumber\" required></p>\r\n        <p align=\"center\" class=\"font\">手机号码: <input type=\"text\" v-model=\"formData.phone\" required></p>\r\n        <p align=\"center\"><button type=\"submit\" class=\"but\">提交预约信息</button></p>\r\n      </form>\r\n    </div>\r\n   </form>\r\n  </div>\r\n </body>\r\n</html>\r\n\r\n</template>\r\n  \r\n<script>\r\nimport axios from \"axios\";\r\n   export default {\r\n      data() {\r\n        return {\r\n          formData: {\r\n            name: '',\r\n            age: '',\r\n            sex: '',\r\n            marriage: '',\r\n            id: '',\r\n            phone: ''\r\n          },\r\n          idvalid: true,\r\n          phonevalid: true,\r\n        }\r\n      },\r\n      methods :{\r\n         submitForm() {\r\n          if(this.formData.sex==''){\r\n            alert(\"请选择性别！\")\r\n          }\r\n          else if(this.formData.marriage==''){\r\n            alert(\"请选择是否已婚！\")\r\n          }\r\n          else if(!this.idvalid){\r\n            alert(\"请输入正确的身份证号码\")\r\n          }\r\n          else{\r\n            axios.post('http://127.0.0.1:8000/api/addp', this.formData)\r\n            .then((response) => {\r\n              if(response.data.msg=='success'){\r\n                console.log(response.data);\r\n                this.$router.push('/choose');\r\n                alert(\"预约成功！\")\r\n              }\r\n              else if(response.data.error_num==1){\r\n                alert(\"不存在这样一个人，请填写你的真实姓名\")\r\n              }\r\n            })\r\n            .catch(error => {\r\n              console.log(error);\r\n            });\r\n          }\r\n        },\r\n\r\n        validateIDNumber(idNumber) {\r\n          if (idNumber.length !== 18) {//长度是否为18位\r\n            return false;\r\n          }\r\n          if (!/^\\d{17}[\\dX]$/.test(idNumber)) {//前17位是否都是数字\r\n            return false;\r\n          }\r\n          //计算校验位是否正确\r\n          const weights = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];//前17位依次乘以固定的权值\r\n          const factors = idNumber.slice(0, 17).split('').map(Number);\r\n          const checkSum = factors.reduce((sum, factor, index) => sum + factor * weights[index], 0) % 11;\r\n          const checkDigit = { 0: 1, 1: 0, 2: 'X', 3: 9, 4: 8, 5: 7, 6: 6, 7: 5, 8: 4, 9: 3, 10: 2 }[checkSum];\r\n          return idNumber[17] === checkDigit.toString();\r\n        },\r\n\r\n        validateIdNumber() {\r\n          this.idvalid = this.validateIDNumber(this.formData.id);\r\n        },\r\n\r\n\r\n      }\r\n}\r\n</script>\r\n  \r\n<style scoped lang=\"less\">\r\n   div.wenben {\r\n    width: 600px;\r\n    margin: auto;\r\n    height: 576px;\r\n    background-color: #b5bfc2c7;\r\n   }\r\n   form {\r\n    height: 750px;\r\n    border-style:solid;\r\n    border-width:4px;\r\n    border-color: aliceblue;\r\n    background-color: #48576a;\r\n    .inner{\r\n      background-color: #e3eaf1;\r\n      height: 570px;\r\n    }\r\n   }\r\n   input {\r\n    width:320px;\r\n    height:35px;                                 \r\n    border:1px solid #d4cdba;\r\n    padding:2px; \r\n    font-size: 17px;\r\n   }\r\n   input[type=\"radio\"] {\r\n      width:30px;\r\n      height:25px; \r\n   }\r\n   input:hover{\r\n\t\t\t\tcolor: aliceblue;\r\n\t\t\t\tbackground-color: #48576a;\r\n\t\t\t}\r\n   h2 {\r\n      font-size: 50px;\r\n      color: #e3eaf1; \r\n      display : inline;\r\n      \r\n      padding-bottom: 20px;\r\n   }\r\n   p {\r\n      height: 80px;\r\n   }\r\n   .font {\r\n      font-weight: 900;\r\n      font-size: large;\r\n   }\r\n   .title{\r\n    background-color: #48576a;\r\n   }\r\n\r\n   .but {\r\n    background-color: #48576a; \r\n    border: none;\r\n    color: white;\r\n    padding: 15px 32px;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    font-size: 25px;\r\n    border-radius: 10%;\r\n    cursor: pointer;//悬浮时变手指\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}