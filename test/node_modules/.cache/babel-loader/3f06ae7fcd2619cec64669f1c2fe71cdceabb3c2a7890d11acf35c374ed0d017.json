{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  name: 'Register',\n  data() {\n    return {\n      formData: {\n        //收集名字\n        'name': '',\n        'password': '',\n        'password1': ''\n      },\n      agree: true,\n      isSubmitted: false,\n      passwordMatch: true\n    };\n  },\n  computed: {\n    isValid() {\n      return this.name && this.password && this.password1 && this.password === this.password1 && this.agree == true;\n    }\n  },\n  // mounted() {\n  //   console.log(this.passwordMatch)\n  // },\n  // watch: {\n  //   password(val) {\n  //     if (this.password1) {\n  //       this.passwordMatch = val === this.password1\n  //     }\n  //   },\n  //   password1(val) {\n  //     if (this.password) {\n  //       this.passwordMatch = val === this.password\n  //     }\n  //   }\n  // },\n  methods: {\n    userRegister() {\n      this.isSubmitted = true;\n      if (!this.passwordMatch) {\n        alert('两次输入的密码不一致');\n      } else {\n        axios.post('http://127.0.0.1:8000/api/addx', this.formData).then(response => {\n          console.log(response.data);\n          this.$router.push('/login');\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";AAsDA,OAAOA,KAAI,MAAO,OAAO;AACvB,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,IAAI,GAAG;IACL,OAAO;MACLC,QAAQ,EAAE;QACR;QACA,MAAM,EAAC,EAAE;QACT,UAAU,EAAC,EAAE;QACb,WAAW,EAAC;MACd,CAAC;MACDC,KAAK,EAAE,IAAI;MACXC,WAAW,EAAE,KAAK;MAClBC,aAAa,EAAE;IACjB;EACF,CAAC;EACDC,QAAQ,EAAE;IACRC,OAAO,GAAG;MACR,OAAO,IAAI,CAACP,IAAG,IAAK,IAAI,CAACQ,QAAO,IAAK,IAAI,CAACC,SAAQ,IAAK,IAAI,CAACD,QAAO,KAAM,IAAI,CAACC,SAAQ,IAAK,IAAI,CAACN,KAAI,IAAK,IAAG;IAC9G;EACF,CAAC;EACD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAO,OAAO,EAAE;IACPC,YAAY,GAAG;MACb,IAAI,CAACP,WAAU,GAAI,IAAG;MACtB,IAAI,CAAC,IAAI,CAACC,aAAa,EAAE;QACvBO,KAAK,CAAC,YAAY;MACpB,CAAC,MAAI;QACHb,KAAK,CAACc,IAAI,CAAC,gCAAgC,EAAE,IAAI,CAACX,QAAQ,EACzDY,IAAI,CAACC,QAAO,IAAK;UAChBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACd,IAAI,CAAC;UAC1B,IAAI,CAACiB,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;QAC7B,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;UACdL,OAAO,CAACC,GAAG,CAACI,KAAK,CAAC;QACpB,CAAC,CAAC;MACJ;IACF;EACF;AACF","names":["axios","name","data","formData","agree","isSubmitted","passwordMatch","computed","isValid","password","password1","methods","userRegister","alert","post","then","response","console","log","$router","push","catch","error"],"sourceRoot":"","sources":["D:\\github_local\\Physical-Examination-System\\test\\src\\pages\\Register\\MyIndex.vue"],"sourcesContent":["<template>\r\n  <div class=\"register-container\">\r\n    <!-- 注册内容 -->\r\n    <div class=\"register\">\r\n      <h3>注册\r\n        <span class=\"go\">已有账号，去 <router-link class=\"login\" to=\"/login\">登录</router-link>\r\n        </span>\r\n      </h3>\r\n      <div class=\"content\">\r\n        <label>姓名:</label>\r\n        <input type=\"text\" placeholder=\"请输入你的姓名\" v-model=\"formData.name\">\r\n        <!-- <span class=\"error-msg\">错误提示信息</span> -->\r\n      </div>\r\n      <div class=\"content\">\r\n        <label>登录密码:</label>\r\n        <input type=\"password\" placeholder=\"请输入你的登录密码\" v-model=\"formData.password\">\r\n        <!-- <span class=\"error-msg\">错误提示信息</span> -->\r\n      </div>\r\n      <div class=\"content\">\r\n        <label>确认密码:</label>\r\n        <input type=\"password\" placeholder=\"请输入确认密码\" v-model=\"formData.password1\">\r\n        <!-- <span class=\"error-msg\">错误提示信息</span> -->\r\n      </div>\r\n      <div class=\"controls\">\r\n        <input name=\"m1\" type=\"checkbox\" v-model=\"agree\" :checked=\"agree\">\r\n        <span>同意协议并注册《就医协议》</span>\r\n        <!-- <span class=\"error-msg\">错误提示信息</span> -->\r\n      </div>\r\n      <div class=\"btn\">\r\n        <!-- <p class=\"error\" v-if=\"!passwordMatch && isSubmitted\">{{ errorMsg }}</p> -->\r\n        <button @click.prevent=\"userRegister\" :disabled=\"!agree\">完成注册</button>\r\n        <!--disabled将一个表单元素设置为禁用状态,!isValid如果为true,则按钮被禁止;\r\n        click按下，会调用 userRegister 方法，并且阻止按钮默认的提交行为-->\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 底部 -->\r\n    <div class=\"copyright\">\r\n      <ul>\r\n        <li>就医指南</li>\r\n        <li>预约流程</li>\r\n        <li>支付方式</li>\r\n        <li>医疗服务</li>\r\n        <li>医生名单</li>\r\n        <li>帮助中心</li>\r\n      </ul>\r\n      <div class=\"address\">地址: 上海大学网络空间安全数据库小组</div>\r\n      <div class=\"beian\">京ICP备XXXXXX号\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n  export default {\r\n    name: 'Register',\r\n    data() {\r\n      return {\r\n        formData: {\r\n          //收集名字\r\n          'name':'',\r\n          'password':'',\r\n          'password1':'',\r\n        },\r\n        agree: true,\r\n        isSubmitted: false,\r\n        passwordMatch: true\r\n      }\r\n    },\r\n    computed: {\r\n      isValid() {\r\n        return this.name && this.password && this.password1 && this.password === this.password1 && this.agree == true\r\n      }\r\n    },\r\n    // mounted() {\r\n    //   console.log(this.passwordMatch)\r\n    // },\r\n    // watch: {\r\n    //   password(val) {\r\n    //     if (this.password1) {\r\n    //       this.passwordMatch = val === this.password1\r\n    //     }\r\n    //   },\r\n    //   password1(val) {\r\n    //     if (this.password) {\r\n    //       this.passwordMatch = val === this.password\r\n    //     }\r\n    //   }\r\n    // },\r\n    methods: {\r\n      userRegister() {\r\n        this.isSubmitted = true\r\n        if (!this.passwordMatch) {\r\n          alert('两次输入的密码不一致')\r\n        }else{\r\n          axios.post('http://127.0.0.1:8000/api/addx', this.formData)\r\n          .then(response => {\r\n            console.log(response.data);\r\n            this.$router.push('/login');\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n          });\r\n        }\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .register-container {\r\n    .register {\r\n      width: 1200px;\r\n      height: 445px;\r\n      border: 1px solid rgb(223, 223, 223);\r\n      margin: 0 auto;\r\n      background-color:#ececec;\r\n      h3 {\r\n        background: #e4e4e4;\r\n        margin: 0;\r\n        padding: 6px 15px;\r\n        color: #333;\r\n        border-bottom: 1px solid #dfdfdf;\r\n        font-size: 20.04px;\r\n        line-height: 30.06px;\r\n\r\n        span {\r\n          font-size: 14px;\r\n          float: right;\r\n\r\n          a {\r\n            color: #e1251b;\r\n          }\r\n        }\r\n      }\r\n\r\n      div:nth-of-type(1) {\r\n        margin-top: 40px;\r\n      }\r\n\r\n      .content {\r\n        padding-left: 390px;\r\n        margin-bottom: 18px;\r\n        position: relative;\r\n\r\n        label {\r\n          font-size: 14px;\r\n          width: 96px;\r\n          text-align: right;\r\n          display: inline-block;\r\n        }\r\n\r\n        input {\r\n          width: 270px;\r\n          height: 38px;\r\n          padding-left: 8px;\r\n          box-sizing: border-box;\r\n          margin-left: 5px;\r\n          outline: none;\r\n          border: 1px solid #999;\r\n        }\r\n\r\n        img {\r\n          vertical-align: sub;\r\n        }\r\n\r\n        .error-msg {\r\n          position: absolute;\r\n          top: 100%;\r\n          left: 495px;\r\n          color: red;\r\n        }\r\n      }\r\n\r\n      .controls {\r\n        text-align: center;\r\n        position: relative;\r\n\r\n        input {\r\n          vertical-align: middle;\r\n        }\r\n\r\n        .error-msg {\r\n          position: absolute;\r\n          top: 100%;\r\n          left: 495px;\r\n          color: red;\r\n        }\r\n      }\r\n\r\n      .btn {\r\n        text-align: center;\r\n        line-height: 36px;\r\n        margin: 17px 0 0 55px;\r\n\r\n        button {\r\n          outline: none;\r\n          width: 270px;\r\n          height: 36px;\r\n          background: #48576a;\r\n          color: #fff !important;\r\n          display: inline-block;\r\n          font-size: 16px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .copyright {\r\n      width: 1200px;\r\n      margin: 0 auto;\r\n      text-align: center;\r\n      line-height: 24px;\r\n\r\n      ul {\r\n        li {\r\n          display: inline-block;\r\n          border-right: 1px solid #e4e4e4;\r\n          padding: 0 20px;\r\n          margin: 15px 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}