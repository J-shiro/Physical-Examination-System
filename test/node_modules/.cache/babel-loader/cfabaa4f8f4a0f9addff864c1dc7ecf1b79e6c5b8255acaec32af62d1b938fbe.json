{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      name: '',\n      resultlist: [],\n      doctorlist: [],\n      projectlist: []\n    };\n  },\n  mounted() {\n    this.name = localStorage.getItem('username');\n    this.showResult();\n  },\n  methods: {\n    showResult() {\n      axios.post('http://127.0.0.1:8000/api/report', {\n        name: this.name\n      }).then(response => {\n        if (response.data.msg == 'success') {\n          this.resultlist = response.data.result;\n          this.projectlist = response.data.project;\n          this.doctorlist = response.data.doctor;\n        } else if (response.data.error_num == 2) {\n          alert(\"您还没有进行体检项目预约...\");\n          // this.$router.push('/home').then(() => location.reload())\n        } else if (response.data.error_num == 3) {\n          alert(\"体检仍未完成，请等待...\");\n          // this.$router.push('/home').then(() => location.reload())\n        } else {\n          alert(\"出现异常\");\n          // this.$router.push('/home').then(() => location.reload())\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAmCA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,GAAG;IACL,OAAO;MACJC,IAAI,EAAE,EAAE;MACRC,UAAU,EAAE,EAAE;MACdC,UAAU,EAAE,EAAE;MACdC,WAAW,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,OAAO,GAAG;IACR,IAAI,CAACJ,IAAG,GAAIK,YAAY,CAACC,OAAO,CAAC,UAAU;IAC3C,IAAI,CAACC,UAAU,EAAC;EAClB,CAAC;EACDC,OAAO,EAAE;IACPD,UAAU,GAAE;MACVT,KAAK,CAACW,IAAI,CAAC,kCAAkC,EAAE;QAACT,IAAI,EAAE,IAAI,CAACA;MAAI,CAAC,EAC7DU,IAAI,CAACC,QAAO,IAAK;QAChB,IAAIA,QAAQ,CAACZ,IAAI,CAACa,GAAG,IAAE,SAAS,EAAC;UAC/B,IAAI,CAACX,UAAS,GAAIU,QAAQ,CAACZ,IAAI,CAACc,MAAK;UACrC,IAAI,CAACV,WAAU,GAAIQ,QAAQ,CAACZ,IAAI,CAACe,OAAM;UACvC,IAAI,CAACZ,UAAS,GAAIS,QAAQ,CAACZ,IAAI,CAACgB,MAAK;QACvC,OACK,IAAIJ,QAAQ,CAACZ,IAAI,CAACiB,SAAS,IAAE,CAAC,EAAC;UAClCC,KAAK,CAAC,iBAAiB;UACvB;QACF,OACK,IAAIN,QAAQ,CAACZ,IAAI,CAACiB,SAAS,IAAE,CAAC,EAAC;UAClCC,KAAK,CAAC,eAAe;UACrB;QACF,OACK;UACHA,KAAK,CAAC,MAAM;UACZ;QACF;MACF,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;IACN;EACF;AACF,CAAC","names":["axios","data","name","resultlist","doctorlist","projectlist","mounted","localStorage","getItem","showResult","methods","post","then","response","msg","result","project","doctor","error_num","alert","catch","error","console"],"sourceRoot":"","sources":["D:\\github_local\\Physical-Examination-System\\test\\src\\pages\\ShowResult\\MyIndex.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"a4\">\r\n        <h1 class=\"title\">体    检    报    告</h1>\r\n        <div class=\"border\">\r\n          \r\n          <div class=\"category\">\r\n            <h2 class=\"subtitle inline\">就诊人姓名: {{ name }}</h2>\r\n          </div>\r\n        \r\n          <div class=\"line\"></div>\r\n          <div class=\"category\" v-for=\"(item, index) in projectlist\" :key=\"index\">\r\n            <h2 class=\"subtitle\">{{ item }}</h2>\r\n              <div class=\"result-row\">\r\n                <h3 class=\"subtitle inline\">诊断结果:</h3>\r\n                  <span v-for=\"(result, idx) in resultlist[index]\" :key=\"idx\" class=\"result\">\r\n                    {{ result }}\r\n                  </span>\r\n              </div>\r\n              <div class=\"result-row\">\r\n                <h3 class=\"subtitle inline\">诊断医师:</h3>\r\n                  <span v-for=\"(doctor, did) in doctorlist[index]\" :key=\"did\" class=\"doctor\" >\r\n                    {{ doctor }}\r\n                  </span> \r\n              </div>\r\n              <div class=\"line\"></div>\r\n          </div>\r\n        \r\n          \r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n       name: '',\r\n       resultlist: [],\r\n       doctorlist: [],\r\n       projectlist: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.name = localStorage.getItem('username')\r\n    this.showResult()\r\n  },\r\n  methods: {\r\n    showResult(){\r\n      axios.post('http://127.0.0.1:8000/api/report', {name: this.name})\r\n        .then(response => {\r\n          if (response.data.msg=='success'){\r\n            this.resultlist = response.data.result\r\n            this.projectlist = response.data.project\r\n            this.doctorlist = response.data.doctor\r\n          }\r\n          else if (response.data.error_num==2){\r\n            alert(\"您还没有进行体检项目预约...\")\r\n            // this.$router.push('/home').then(() => location.reload())\r\n          }\r\n          else if (response.data.error_num==3){\r\n            alert(\"体检仍未完成，请等待...\")\r\n            // this.$router.push('/home').then(() => location.reload())\r\n          }\r\n          else {\r\n            alert(\"出现异常\")\r\n            // this.$router.push('/home').then(() => location.reload())\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error(error);\r\n        });\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.container {\r\n  background-color: #c9d9f8;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n  padding-top: 300px;\r\n  padding-bottom: 400px;\r\n}\r\n\r\n.result-row {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.result-row h3.inline{\r\n  margin-right: 30px;\r\n  font-size: 17px;\r\n}\r\n\r\n.a4 {\r\n  background-color: white;\r\n  width: 210mm;\r\n  height: 300mm;\r\n  padding: 20mm;\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  flex-direction: column;\r\n  border: 1px solid #2c3e50;\r\n  margin: 10mm;\r\n  margin-top: 30mm;\r\n  position: relative;\r\n}\r\n\r\n.subtitle {\r\n  font-size: 20px;\r\n}\r\n\r\n.border {\r\n  border: 1px solid #2c3e50;\r\n  height: 100%;\r\n  padding: 10mm;\r\n}\r\n\r\n.title {\r\n  font-size: 65px;\r\n  text-align: center;\r\n  margin: 0 auto;\r\n  margin-bottom: 20px;\r\n  margin-top: -50px;\r\n  font-family: \"楷体\", \"KaiTi\", serif;\r\n}\r\n\r\n.category {\r\n  font-size: 20px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.result {\r\n  font-size: 15px;\r\n}\r\n\r\n.doctor {\r\n  font-size: 20px;\r\n  font-family: \"楷体\", \"KaiTi\", serif;\r\n}\r\n\r\n.line {\r\n  border-top: 1px solid black;\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n  width: 100%;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}